<!DOCTYPE html>

<!--
  Copyright (c) 2016, Elliott Wagner
-->

<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Epistemology</title>
    <script async type="application/dart" src="main.dart"></script>
    <script async src="packages/browser/dart.js"></script>
    <link rel="stylesheet" href="styles.css">
  </head>

  <body>
  
  <div id="wrapper">

  	<div id="center">

    <table class="layout_table">
    <tr><td colspan="2" class="layout_td">

    <!-- Inputs -->
    <div class="widgets">
    <fieldset class="field_group"><legend>Network Structure</legend>
        <input type="radio" name="network_radio" id="star_radio" value="star" checked>Star<br>
        <input type="radio" name="network_radio" id="complete_radio" value="complete">Complete
        </fieldset>
        <fieldset class="field_group"><legend>Arm Win Probabilities</legend>
        <table class ="widgets_table">
          <tr><td class="widgets_td">Red arm:</td><td class="widgets_td"><input type="text" id="red_arm_p" value=".5"></td></tr>
          <tr><td class="widgets_td">Blue arm:</td><td class="widgets_td"><input type="text" id="blue_arm_p" value=".51"></td></tr>
        </table>
        </fieldset>
    <fieldset class="field_group"><legend>Initial Beliefs</legend>
        <table class="widgets_table">
          <tr><td class="widgets_td">&alpha; drawn from uniform distribution over &nbsp;</td><td class="widgets_td">( <input type="text" id="alpha_lower_text" value="0">, <input type="text" id="alpha_upper_text" value="4"> ]</td></tr>
          <tr><td class="widgets_td">&beta; drawn from uniform distribution over &nbsp;</td><td class="widgets_td">( <input type="text" id="beta_lower_text" value="0">, <input type="text" id="beta_upper_text" value="4"> ]</td></tr>
        </table>
        </fieldset>
        <table class="button_table">
        <tr>
      <td class="button_td"><button float="right" class="control_button" id="resetButton">Reset Beliefs</button></td>
      <td class="button_td"><button class="control_button" id="stepButton">Step Forward</button></td>
      </tr>
      </table>
      </div>
      <!-- End Inputs -->
    </td>
    

    <td class="layout_td">
      <!--Start of agent 0-->
      <div class="agent0_display">
        <div class="plot_background">
        <bf>Probability Density Function</bf><br>
          <svg id="agent0svg" width="250" height="200"></svg>
        </div>
        <br>
        <div class="table_background">
        <table style="width:100%">
          <tr>
            <th></th>
            <th>&alpha;</th> 
            <th>&beta;</th>
            <th>Expectation</th>
          </tr>
          <tr>
            <td>Red Arm:</td>
            <td><span id="agent0Alpha0"></span></td> 
            <td><span id="agent0Beta0"></span></td>
            <td><span id="agent0Exp0"></span></td>
          </tr>
          <tr>
            <td>Blue Arm:</td>
            <td><span id="agent0Alpha1"></span></td> 
            <td><span id="agent0Beta1"></span></td>
            <td><span id="agent0Exp1"></span></td>
          </tr>
        </table>
        </div>
        <br>
        <div class="correct_background">
        <span id="agent0Correct"></span>
        </div>
      </div>
      <!--End of agent 0-->
    </td>

    <!-- Info Box -->
    <td class="layout_td">
    	<div class="info_box">
    		<p>This demo shows a group of five Bayesian learners engaged in a two-arm bandit problem.</p>

    		<p>The two arms--red and blue--produce wins with different probabilities.</p>

    		<p>The agents do not know these probabilities, but do have beliefs about the arms' win rates.  These beliefs are beta distributions.</p> 

    		<p>In each step of learning each agent pulls the arm she believes has the highest payout rate. </p>

    		<p>Agents observe the result of their own pulls and the pulls of their neighbors in the social network.</p>

    		<p>Upon observing the result of a pull, an agent updates her beliefs by conditionalization</p>

    		<p>Source code for this demo is located at <a href="https://github.com/eowagner/bandit_demo">https://github.com/eowagner/bandit_demo</a>.</p>

    	</div>
    </td>

    <!-- End Info Box-->

    </tr>

    <!--Middle row-->
    <tr><td colspan="4" class="layout_td"><div class="network_svg_spacer"><svg id="network_svg" width="1200" height="100"></svg></div></td></tr>

    <tr>

    <!--Start of Agent 1-->
    <td class="layout_td">
    <div class="agent_display">
      <div class="plot_background">
      <bf>Probability Density Function</bf><br>
        <svg id="agent1svg" width="250" height="200"></svg>
      </div>
      <br>
      <div class="table_background">
      <table style="width:100%">
        <tr>
          <th></th>
          <th>&alpha;</th> 
          <th>&beta;</th>
          <th>Expectation</th>
        </tr>
        <tr>
          <td>Red Arm:</td>
          <td><span id="agent1Alpha0"></span></td> 
          <td><span id="agent1Beta0"></span></td>
          <td><span id="agent1Exp0"></pan></td>
        </tr>
        <tr>
          <td>Blue Arm:</td>
          <td><span id="agent1Alpha1"></span></td> 
          <td><span id="agent1Beta1"></span></td>
          <td><span id="agent1Exp1"></span></td>
        </tr>
      </table>
      </div>
      <br>
      <div class="correct_background"><span id="agent1Correct"></span></div>
    </div>
    </td>
    <!--End of Agent 1-->

    <!--Start of Agent 2-->
    <td class="layout_td">
    <div class="agent_display">
      <div class="plot_background">
      <bf>Probability Density Function</bf><br>
        <svg id="agent2svg" width="250" height="200"></svg>
      </div>
      <br>
      <div class="table_background">
      <table style="width:100%">
        <tr>
          <th></th>
          <th>&alpha;</th> 
          <th>&beta;</th>
          <th>Expectation</th>
        </tr>
        <tr>
          <td>Red Arm:</td>
          <td><span id="agent2Alpha0"></span></td> 
          <td><span id="agent2Beta0"></span></td>
          <td><span id="agent2Exp0"></pan></td>
        </tr>
        <tr>
          <td>Blue Arm:</td>
          <td><span id="agent2Alpha1"></span></td> 
          <td><span id="agent2Beta1"></span></td>
          <td><span id="agent2Exp1"></span></td>
        </tr>
      </table>
      </div>
      <br>
      <div class="correct_background"><span id="agent2Correct"></span></div>
    </div>
    </td>
    <!--End of Agent 2-->

    <!--Start of Agent 3-->
    <td class="layout_td">
    <div class="agent_display">
      <div class="plot_background">
      <bf>Probability Density Function</bf><br>
        <svg id="agent3svg" width="250" height="200"></svg>
      </div>
      <br>
      <div class="table_background">
      <table style="width:100%">
        <tr>
          <th></th>
          <th>&alpha;</th> 
          <th>&beta;</th>
          <th>Expectation</th>
        </tr>
        <tr>
          <td>Red Arm:</td>
          <td><span id="agent3Alpha0"></span></td> 
          <td><span id="agent3Beta0"></span></td>
          <td><span id="agent3Exp0"></pan></td>
        </tr>
        <tr>
          <td>Blue Arm:</td>
          <td><span id="agent3Alpha1"></span></td> 
          <td><span id="agent3Beta1"></span></td>
          <td><span id="agent3Exp1"></span></td>
        </tr>
      </table>
      </div>
      <br>
      <div class="correct_background"><span id="agent3Correct"></span></div>
    </div>
    </td>
    <!--End of Agent 3-->

    <!--Start of Agent 4-->
    <td class="layout_td">
    <div class="agent_display">
      <div class="plot_background">
      <bf>Probability Density Function</bf><br>
        <svg id="agent4svg" width="250" height="200"></svg>
      </div>
      <br>
      <div class="table_background">
      <table style="width:100%">
        <tr>
          <th></th>
          <th>&alpha;</th> 
          <th>&beta;</th>
          <th>Expectation</th>
        </tr>
        <tr>
          <td>Red Arm:</td>
          <td><span id="agent4Alpha0"></span></td> 
          <td><span id="agent4Beta0"></span></td>
          <td><span id="agent4Exp0"></pan></td>
        </tr>
        <tr>
          <td>Blue Arm:</td>
          <td><span id="agent4Alpha1"></span></td> 
          <td><span id="agent4Beta1"></span></td>
          <td><span id="agent4Exp1"></span></td>
        </tr>
      </table>
      </div>
      <br>
      <div class="correct_background"><span id="agent4Correct"></span></div>
    </div>
    </td>
    <!--End of Agent 3-->
    </tr>
    </table>

    </div>

	</div>

  </body>
</html>
